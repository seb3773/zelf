#!/usr/bin/env python3
"""
Optimal Compressor Predictor
Automatically generated by analyze_compressors.py
"""

def predict_best_compressor(file_size):
    """
    Predicts the best compressor based on file size

    Args:
        file_size: File size in bytes

    Returns:
        tuple: (compressor_name, expected_ratio)
    """
    rules = {
        '<20KB': {'compressor': 'zx0', 'ratio': 53.27, 'range': (0, 20000)},
        '20-200KB': {'compressor': 'shrinkler', 'ratio': 41.74, 'range': (20001, 200000)},
        '200-500KB': {'compressor': 'lzma', 'ratio': 33.13, 'range': (200001, 500000)},
        '>500KB': {'compressor': 'lzma', 'ratio': 27.74, 'range': (500001, float('inf'))}
    }

    for size_range, rule in rules.items():
        min_size, max_size = rule['range']
        if min_size <= file_size <= max_size:
            return rule['compressor'], rule['ratio']

    # Default to the global best
    return "shrinkler", 43.9

if __name__ == "__main__":
    import sys

    if len(sys.argv) < 2:
        print("Usage: python predictor.py <file_size_in_bytes>")
        sys.exit(1)

    size = int(sys.argv[1])
    compressor, ratio = predict_best_compressor(size)

    print(f"For a file of {size:,} bytes:")
    print(f"  Recommended compressor: {compressor}")
    print(f"  Expected ratio: {ratio}%")
